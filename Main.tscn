[gd_scene load_steps=21 format=3 uid="uid://2y3ar4s86yra"]

[ext_resource type="Script" uid="uid://dn0kiywu3mkq7" path="res://Main.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://dp478jyugrn7o" path="res://Player.tscn" id="2"]
[ext_resource type="PackedScene" uid="uid://ha0ar5s2c3m4" path="res://Mob.tscn" id="3"]
[ext_resource type="Material" uid="uid://c4aiok2vj8tdl" path="res://new_standard_material_3d.tres" id="3_lgr22"]
[ext_resource type="Material" path="res://art/body.tres" id="4_3dxm6"]
[ext_resource type="Theme" uid="uid://cqquurjk1i7yw" path="res://ui_theme.tres" id="4_gnyca"]
[ext_resource type="Script" uid="uid://ofhvwth8plpb" path="res://ScoreLabel.gd" id="6"]
[ext_resource type="PackedScene" uid="uid://bstc7odat7cj" path="res://weed.tscn" id="6_wkp8b"]
[ext_resource type="AudioStream" uid="uid://dbds8g42km3ng" path="res://5-1 Clean.ogg" id="8_trn2v"]
[ext_resource type="AudioStream" uid="uid://37r3t2g0qpgx" path="res://GuppyDeathSound.ogg" id="9_03owx"]

[sub_resource type="BoxShape3D" id="1"]
size = Vector3(60, 2, 60)

[sub_resource type="PlaneMesh" id="PlaneMesh_trn2v"]
material = ExtResource("3_lgr22")
size = Vector2(30, 30)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_i5n5q"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_m3njk"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_yutuu"]
sky_material = SubResource("ProceduralSkyMaterial_m3njk")

[sub_resource type="Environment" id="Environment_0tcge"]
background_mode = 2
sky = SubResource("Sky_yutuu")
ambient_light_energy = 0.0
tonemap_mode = 4

[sub_resource type="BoxMesh" id="BoxMesh_lgr22"]
material = ExtResource("4_3dxm6")
size = Vector3(32, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_03owx"]
transparency = 1
cull_mode = 1
albedo_color = Color(1, 1, 1, 0.564706)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.0
refraction_scale = 0.12
refraction_texture_channel = 3

[sub_resource type="SphereMesh" id="SphereMesh_wkp8b"]
material = SubResource("StandardMaterial3D_03owx")
radial_segments = 8
rings = 4

[sub_resource type="Curve3D" id="5"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 24, 0, -24, 0, 0, 0, 0, 0, 0, -26, 0, -24, 0, 0, 0, 0, 0, 0, -26, 0, 26, 0, 0, 0, 0, 0, 0, 24, 0, 26, 0, 0, 0, 0, 0, 0, 24, 0, -24),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[node name="Main" type="Node"]
script = ExtResource("1")
mob_scene = ExtResource("3")

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
collision_layer = 4
collision_mask = 0

[node name="CollisionShape" type="CollisionShape3D" parent="Ground"]
shape = SubResource("1")

[node name="MeshInstance" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 1, 15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance2" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1, 15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance3" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15, 1, -15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance5" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 45, 1, 15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance6" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 45, 1, -15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance7" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45, 1, 15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance8" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45, 1, -15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="MeshInstance4" type="MeshInstance3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1, -15)
mesh = SubResource("PlaneMesh_trn2v")

[node name="Walls" type="StaticBody3D" parent="."]
editor_description = "These invisible walls are used to prevent the player from escaping the playable area.

These walls use WorldBoundaryShape3D collision shapes, which are infinitely large planes
(even though they look finite in the editor)."
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)
collision_layer = 4
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(1, 0, 0, 0, 1.31134e-07, 1, 0, -1, 1.31134e-07, 0, 10, 11)
shape = SubResource("WorldBoundaryShape3D_i5n5q")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(-4.37114e-08, 1, -1.31134e-07, 0, 1.31134e-07, 1, 1, 4.37114e-08, -5.73206e-15, -13, 10, -4.76837e-07)
shape = SubResource("WorldBoundaryShape3D_i5n5q")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(4.37114e-08, -1, 2.18557e-07, 3.82137e-15, -2.18557e-07, -1, 1, 4.37114e-08, -5.73206e-15, 14, 10, -4.76837e-07)
shape = SubResource("WorldBoundaryShape3D_i5n5q")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Walls"]
transform = Transform3D(1, 5.96046e-08, -1.42109e-14, 3.82137e-15, -2.18557e-07, -1, -5.96046e-08, 1, -2.18557e-07, 9.53674e-07, 10, -20)
shape = SubResource("WorldBoundaryShape3D_i5n5q")

[node name="DirectionalLight" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.5, -0.777049, 0.382355, 0, 0.441506, 0.897258, -0.866025, -0.448629, 0.220753, 0, 12.5592, 14.7757)
light_color = Color(0, 0.690196, 1, 1)
shadow_enabled = true
directional_shadow_mode = 1
directional_shadow_fade_start = 1.0
directional_shadow_max_distance = 500.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_0tcge")

[node name="Player" parent="." instance=ExtResource("2")]

[node name="Music" type="AudioStreamPlayer" parent="Player"]
stream = ExtResource("8_trn2v")
volume_db = -8.0
autoplay = true
parameters/looping = true

[node name="CameraPivot" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0.183514, 0, 0)

[node name="Camera" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 0.998979, 0.0451712, 0, -0.0451712, 0.998979, 0, -1.6729, 39.425)
fov = 41.5
size = 24.0
far = 64.37

[node name="Cylinders" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0)

[node name="weed" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(0.911301, 0, 1.93793, 0, 2.1415, 0, -1.93793, 0, 0.911301, 5.0462, -0.173896, -15.9702)

[node name="weed6" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(2.1415, 0, 0, 0, 2.1415, 0, 0, 0, 2.1415, 7.59024, -2.10101, -8.89295)

[node name="weed7" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.32867, 0, -1.67949, 0, 2.1415, 0, 1.67949, 0, 1.32867, -24.4329, -1.86489, 11.0176)

[node name="weed8" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(-0.587763, 0, 2.05926, -0.281326, 2.12143, -0.080297, -2.03996, -0.292561, -0.582252, -23.4581, -0.909925, 3.25764)

[node name="weed9" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(2.1415, 0, 0, 0, 2.1415, 0, 0, 0, 2.1415, -25.088, -2.10101, -8.04163)

[node name="weed14" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.44591, 0, 0, 0, 1.44591, 0, 0, 0, 1.44591, -25.088, -2.10101, 6.0429)

[node name="weed15" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(0.029751, 0, -1.4456, 0, 1.44591, 0, 1.4456, 0, 0.029751, -25.088, -2.10101, -3.88247)

[node name="weed10" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(0.529855, 0, -2.07492, 0, 2.1415, 0, 2.07492, 0, 0.529855, 9.20453, -4.01916, -3.30542)

[node name="weed11" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.69738, 0.00546779, -1.30572, -0.00547409, 2.1415, 0.00185156, 1.30572, 0.00187009, 1.69739, 9.02653, -2.96403, 1.39502)

[node name="weed12" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(-1.88215, -0.00392793, -1.02153, -0.00547409, 2.1415, 0.00185156, 1.02152, 0.00423856, -1.88216, 10.7331, -3.38584, 6.96151)

[node name="weed13" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(-1.97461, -0.00576409, 0.828813, -0.00547409, 2.1415, 0.00185156, -0.828815, -0.000411324, -1.97461, 10.6047, -5.38456, 12.5289)

[node name="weed3" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(0.881729, 0, -2.04382, 0, 2.2259, 0, 2.04382, 0, 0.881729, -15.0534, -0.370357, -15.5265)

[node name="weed4" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.41172, 0, -2.04046, 0, 2.48121, 0, 2.04046, 0, 1.41172, -6.54254, -0.173896, -15.4523)

[node name="weed5" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.36434, 0, 0, 0, 1.36434, 0, 0, 0, 1.36434, -0.32773, -0.173896, -15.0476)

[node name="weed2" parent="Cylinders" instance=ExtResource("6_wkp8b")]
transform = Transform3D(1.11474, 0, -1.68546, 0, 2.02075, 0, 1.68546, 0, 1.11474, -21.0276, -0.173896, -15.9702)

[node name="MeshInstance" type="MeshInstance3D" parent="Cylinders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 0, -15)
mesh = SubResource("BoxMesh_lgr22")

[node name="MeshInstance5" type="MeshInstance3D" parent="Cylinders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 0, 16)
mesh = SubResource("BoxMesh_lgr22")

[node name="MeshInstance6" type="MeshInstance3D" parent="Cylinders"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7.5, 0, 0.500001)
mesh = SubResource("BoxMesh_lgr22")

[node name="MeshInstance7" type="MeshInstance3D" parent="Cylinders"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -23.5, 0, 0.499999)
mesh = SubResource("BoxMesh_lgr22")

[node name="CPUParticles3D" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, 2.13454, 0, -3.49496)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="CPUParticles3D2" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, -15.6504, 0, 5.44541)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="CPUParticles3D3" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, -31.7746, 0, 6.40356)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="CPUParticles3D4" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, -25.6507, 0, -16.6071)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="CPUParticles3D5" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, 15.5554, 0, -16.725)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="CPUParticles3D6" type="CPUParticles3D" parent="Cylinders"]
transform = Transform3D(0.999097, 0, 0.042486, 0, 1, 0, -0.042486, 0, 0.999097, 11.0753, 0, 10.6128)
lifetime = 3.0
speed_scale = 0.46
mesh = SubResource("SphereMesh_wkp8b")
gravity = Vector3(0, 10, 0)
initial_velocity_max = 4.21

[node name="SpawnPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
curve = SubResource("5")

[node name="SpawnLocation" type="PathFollow3D" parent="SpawnPath"]
transform = Transform3D(-4.37112e-08, 0, 0.999995, 0, 1, 0, -0.999995, 0, -4.37112e-08, 24, 0, -24)
rotation_mode = 1
cubic_interp = false
loop = false

[node name="MobTimer" type="Timer" parent="."]
wait_time = 0.5
autostart = true

[node name="UserInterface" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("4_gnyca")

[node name="ScoreLabel" type="Label" parent="UserInterface"]
layout_mode = 0
offset_left = 16.0
offset_top = 16.0
offset_right = 77.0
offset_bottom = 42.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 32
text = "Score: 0"
script = ExtResource("6")

[node name="Retry" type="ColorRect" parent="UserInterface"]
visible = false
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0, 0, 0, 0.447059)

[node name="Label" type="Label" parent="UserInterface/Retry"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -75.0
offset_top = -13.0
offset_right = 75.0
offset_bottom = 13.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 32
text = "You are dead! Press Spacebar to retry!"

[node name="GuppyDeathSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_03owx")
volume_db = -5.0

[connection signal="hit" from="Player" to="." method="_on_player_hit"]
[connection signal="timeout" from="MobTimer" to="." method="_on_mob_timer_timeout"]
